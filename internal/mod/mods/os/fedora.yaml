name: fedora
description: Fedora base image with core dependencies
category: os
dockerfile_from: fedora:41
provides:
  - base

run_as_root: |
  # Install core packages
  dnf install -y \
    curl \
    wget \
    git \
    gcc \
    gcc-c++ \
    make \
    unzip \
    ca-certificates \
    gnupg2 \
    sudo \
    jq \
    libffi-devel \
    libyaml-devel \
    procps-ng \
    findutils \
    && dnf clean all

  # Create the dev user
  useradd -m -s /bin/bash -u 1000 dev
  echo "dev ALL=(root) NOPASSWD:ALL" > /etc/sudoers.d/dev
  chmod 0440 /etc/sudoers.d/dev
  mkdir -p /home/dev/.local/bin
  chown -R dev:dev /home/dev
